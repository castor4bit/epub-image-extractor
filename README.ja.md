# EPUB画像抽出ツール

EPUBファイルから章別に画像を抽出するクロスプラットフォームデスクトップアプリケーション

## 機能

- **ドラッグ&ドロップインターフェース**: EPUBファイルをドラッグ&ドロップするだけで処理開始
- **章別整理**: EPUBの目次に基づいて画像をフォルダごとに整理
- **バッチ処理**: 複数のEPUBファイルを並列処理で同時に処理
- **リアルタイム進捗表示**: 各ファイルの抽出進捗をモニタリング
- **クロスプラットフォーム**: WindowsとmacOSに対応

## インストール

### 前提条件

- Node.js 18.0.0以上
- npmまたはyarn

### 開発環境のセットアップ

```bash
# リポジトリをクローン
git clone <repository-url>
cd epub-image-extractor

# 依存関係をインストール
npm install

# 開発モードで実行
npm run electron:dev
```

### プロダクションビルド

```bash
# 現在のプラットフォーム用にビルド
npm run dist

# Windows用にビルド
npm run dist:win

# macOS用にビルド
npm run dist:mac
```

## 使い方

1. アプリケーションを起動
2. EPUBファイルをドロップゾーンにドラッグ&ドロップ、または「ファイルを選択」をクリック
3. アプリケーションが自動的に画像を抽出し、章ごとに整理
4. 画像は `デスクトップ/EPUB_Images/[書籍名]/[章名]/` に保存されます

### 出力構造

```
EPUB_Images/
└── 書籍タイトル/
    ├── 001_表紙/
    │   ├── 001.jpg
    │   └── 002.jpg
    ├── 002_第1章/
    │   ├── 001.png
    │   ├── 002.png
    │   └── 003.jpg
    └── 003_第2章/
        └── 001.jpg
```

## 技術仕様

### 技術スタック

- **フレームワーク**: Electron
- **言語**: TypeScript
- **UI**: React
- **ビルドツール**: Vite
- **EPUBパーサー**: @gxl/epub-parser

### アーキテクチャ

アプリケーションの構成:
- **メインプロセス**: ファイル操作とEPUB処理を担当
- **レンダラープロセス**: ユーザーインターフェースを管理
- **IPC通信**: プロセス間のセキュアな通信

## 開発

### プロジェクト構造

```
src/
├── main/           # Electronメインプロセス
│   ├── epub/       # EPUB処理ロジック
│   └── ipc/        # IPCハンドラー
├── renderer/       # Reactアプリケーション
│   └── components/ # UIコンポーネント
├── preload/        # プリロードスクリプト
└── shared/         # 共有型定義とユーティリティ
```

### テストの実行

```bash
npm test
```

### コード品質

```bash
# ESLintを実行
npm run lint

# ESLintの問題を修正
npm run lint:fix

# コードフォーマット
npm run format

# 型チェック
npm run typecheck
```

## 既知の問題

- 目次情報のないEPUBファイルの場合、すべての画像が「未分類」フォルダに保存されます
- DRM保護されたEPUBファイルは処理できません

## ライセンス

MIT

## 貢献

貢献を歓迎します！お気軽にPull Requestを送信してください。

## サポート

問題が発生した場合は、GitHubのIssuesページで報告してください。